<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BSP430: include/bsp430/core.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20120921</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_62ed61ea3473d085a8b2bf70053df4f0.html">include</a></li><li class="navelem"><a class="el" href="dir_7c92f3a74acfd272e55b8e8273858819.html">bsp430</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">core.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common header included by all BSP430 leaf headers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="msp430_8h_source.html">msp430.h</a>&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stddef.h&gt;</code><br/>
<code>#include &quot;bsp430_config.h&quot;</code><br/>
</div>
<p><a href="core_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6e454bbff10b4097999dc3b5b44f83a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a6e454bbff10b4097999dc3b5b44f83a5">BSP430_VERSION</a>&#160;&#160;&#160;20120921</td></tr>
<tr class="memitem:ab63537e5c8c1fa94b5d3cbdfc53d9220"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ab63537e5c8c1fa94b5d3cbdfc53d9220">configBSP430_CORE_INCLUDE_BSP430_CONFIG_FILE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a4c84fee0a5a393e76610a65ee1a6bf36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a4c84fee0a5a393e76610a65ee1a6bf36">BSP430_CORE_FAMILY_IS_5XX</a>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a6c655623731b60f2257aedfb35e3cfa1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a6c655623731b60f2257aedfb35e3cfa1">configBSP430_CORE_DISABLE_FLL</a>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a2b4afc21563d1222ddc2cda30168c052"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a2b4afc21563d1222ddc2cda30168c052">BSP430_CORE_LPM_EXIT_MASK</a>&#160;&#160;&#160;<a class="el" href="msp430_8h.html#a97eaedd508e6f77e34a49433f8e9e2eb">LPM4_bits</a></td></tr>
<tr class="memitem:a1054ff5339d5fc04a83cbfd493ccb4fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a>&#160;&#160;&#160;(<a class="el" href="msp430_8h.html#a4c235c9d99c61027fc1db9624116a389">SCG1</a> | <a class="el" href="msp430_8h.html#a196a05515c9476be96443ccb3aa6004d">SCG0</a> | <a class="el" href="msp430_8h.html#a402257652efd4f64cdd1cfc95f9ed210">OSCOFF</a> | <a class="el" href="msp430_8h.html#acb24a5cd5fd8e152af2dae98b3883013">CPUOFF</a> | <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a>)</td></tr>
<tr class="memitem:ac98f22bd2238bfdadf9c7d2a7a8bcc8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ac98f22bd2238bfdadf9c7d2a7a8bcc8f">BSP430_CORE_LPM_LPMXp5</a>&#160;&#160;&#160;0x0100</td></tr>
<tr class="memitem:ab3ba0bc9be345eb561a58747da602704"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ab3ba0bc9be345eb561a58747da602704">BSP430_CORE_LPM_ENTER_NI</a>(lpm_bits_)&#160;&#160;&#160;__bis_status_register(<a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a> &amp; (lpm_bits_))</td></tr>
<tr class="memitem:a4111253dbed7f8ac33b659e332616623"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a4111253dbed7f8ac33b659e332616623">BSP430_CORE_LPM_EXIT_FROM_ISR</a>(lpm_bits_)&#160;&#160;&#160;__bic_status_register_on_exit(<a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a> &amp; (lpm_bits_))</td></tr>
<tr class="memitem:a835e2732faf93f44f6d6f00eb04236dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a835e2732faf93f44f6d6f00eb04236dc">configBSP430_CORE_SUPPORT_WATCHDOG</a>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:ae7df9374f27e94580ce596ad98949dcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ae7df9374f27e94580ce596ad98949dcd">BSP430_CORE_WATCHDOG_CLEAR</a>()&#160;&#160;&#160;do { } while (0)</td></tr>
<tr class="memitem:a253c0eeb9c1e39b3b5dbb601927d925f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a253c0eeb9c1e39b3b5dbb601927d925f">BSP430_CORE_WATCHDOG_MAX_DELAY_CYCLES</a>&#160;&#160;&#160;10000U</td></tr>
<tr class="memitem:a327cb5d1a1607c19c9551a18507bbb63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a327cb5d1a1607c19c9551a18507bbb63">BSP430_CORE_DELAY_CYCLES</a>(_duration_mclk)&#160;&#160;&#160;__delay_cycles(_duration_mclk)</td></tr>
<tr class="memitem:a15976e4890ec6eacf5cbddf25c5b11c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a15976e4890ec6eacf5cbddf25c5b11c7">BSP430_CORE_INTERRUPT_STATE_T</a>&#160;&#160;&#160;__istate_t</td></tr>
<tr class="memitem:ae4bfa3ada65bbdf28947828ce7966ec1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ae4bfa3ada65bbdf28947828ce7966ec1">BSP430_CORE_SAVE_INTERRUPT_STATE</a>(_state)</td></tr>
<tr class="memitem:a5e9ec46fa426727b23b14cd505e5bbec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a5e9ec46fa426727b23b14cd505e5bbec">BSP430_CORE_RESTORE_INTERRUPT_STATE</a>(_state)</td></tr>
<tr class="memitem:a954f39fe5652611f5a20f74289b0cfbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a954f39fe5652611f5a20f74289b0cfbf">BSP430_CORE_ENABLE_INTERRUPT</a>()&#160;&#160;&#160;__enable_interrupt()</td></tr>
<tr class="memitem:ac381d1a1ade729f63011e7e4db511f61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#ac381d1a1ade729f63011e7e4db511f61">BSP430_CORE_DISABLE_INTERRUPT</a>()&#160;&#160;&#160;__disable_interrupt()</td></tr>
<tr class="memitem:a15a07b5efea8b66be572787a37455578"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8h.html#a15a07b5efea8b66be572787a37455578">BSP430_RTOS_YIELD_FROM_ISR</a>()&#160;&#160;&#160;do { } while (0)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Common header included by all BSP430 leaf headers. </p>
<p>This must be included by all BSP430 headers that do not include another BSP430 header, so that it is available in all environments where a BSP430 capability is referenced. It is responsible for including any RTOS-related header files that contain application-specific configuration information that must be consistent between headers and implementation files.</p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="a327cb5d1a1607c19c9551a18507bbb63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_DELAY_CYCLES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_duration_mclk</td><td>)</td>
          <td>&#160;&#160;&#160;__delay_cycles(_duration_mclk)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function macro which requests a delay for a specific number of MCLK cycles.</p>
<p>This macro could be used to abstract between the spelling used by different toolchains for the __delay_cycles() intrinsic, but its primary purpose is to succinctly support watchdog by allowing the loop to be broken or not depending on compile time capabilities.</p>
<p>In most cases, this feature will be invoked with a duration that is far less than <a class="el" href="core_8h.html#a253c0eeb9c1e39b3b5dbb601927d925f">BSP430_CORE_WATCHDOG_MAX_DELAY_CYCLES</a>, but if not it will function. The duration of the delay will be slightly extended as a result of the machinery supporting the watchdog. For real applications, if you want to delay so long you should probably be using a timer.</p>
<dl class="section note"><dt>Note</dt><dd>If the invocation of this macro is itself in a loop, you should invoke <a class="el" href="core_8h.html#ae7df9374f27e94580ce596ad98949dcd">BSP430_CORE_WATCHDOG_CLEAR()</a> explicitly before or after the delay, to make it clear that the loop is watchdog-safe and in case somebody changes the constants so that the expansion of BSP430_CORE_DELAY_CYCLES in the loop doesn't involve a watchdog clear.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_duration_mclk</td><td>the number of MCLK cycles for which the delay is desired. This must be a compile-time integer constant compatible with unsigned long. <a class="el" href="core_8h.html#a835e2732faf93f44f6d6f00eb04236dc">configBSP430_CORE_SUPPORT_WATCHDOG</a> is enabled and the constant exceeds <a class="el" href="core_8h.html#a253c0eeb9c1e39b3b5dbb601927d925f">BSP430_CORE_WATCHDOG_MAX_DELAY_CYCLES</a>, a watchdog clear will be issued after every such period.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="core_8h.html#a835e2732faf93f44f6d6f00eb04236dc">configBSP430_CORE_SUPPORT_WATCHDOG</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2blink_2main_8c-example.html#a3">bootstrap/blink/main.c</a>, <a class="el" href="bootstrap_2console_2main_8c-example.html#a7">bootstrap/console/main.c</a>, <a class="el" href="rfem_2ccid_2main_8c-example.html#a38">rfem/ccid/main.c</a>, <a class="el" href="sensors_2ds18b20_2main_8c-example.html#a12">sensors/ds18b20/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a19">sensors/hh10d/main.c</a>, and <a class="el" href="sensors_2tmp102_2main_8c-example.html#a15">sensors/tmp102/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac381d1a1ade729f63011e7e4db511f61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_DISABLE_INTERRUPT</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;__disable_interrupt()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the status register <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a> bit so that interrupts are disabled.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a8">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a954f39fe5652611f5a20f74289b0cfbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_ENABLE_INTERRUPT</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;__enable_interrupt()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the status register <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a> bit so that interrupts are enabled.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a44">bootstrap/applpm/main.c</a>, and <a class="el" href="bootstrap_2console_2main_8c-example.html#a5">bootstrap/console/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a4c84fee0a5a393e76610a65ee1a6bf36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_FAMILY_IS_5XX&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined to a value that is true if the build target is an MCU in the 5xx/FR5xx/6xx family. These MCUs have incompatible HPL structures compared with the same peripheral in earlier families; where user or library code must take into account those differences, this flag may be used in a prepropcessor condition to detect the situation.</p>
<p>In the future it may be necessary to distinguish membership in this family from the CPU architecture, but for now the presence of the <code><b>MSP430_HAS_MSP430XV2_CPU</b></code> preprocessor symbol in &lt;<a class="el" href="msp430_8h.html" title="Stripped &lt;msp430.h&gt; header supporting Doxygen links.">msp430.h</a>&gt; is what controls the value of this flag. </p>

</div>
</div>
<a class="anchor" id="a15976e4890ec6eacf5cbddf25c5b11c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_INTERRUPT_STATE_T&#160;&#160;&#160;__istate_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A type that can be used to declare a variable that will hold interrupt state stored by <a class="el" href="core_8h.html#ae4bfa3ada65bbdf28947828ce7966ec1">BSP430_CORE_SAVE_INTERRUPT_STATE</a>.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a6">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ab3ba0bc9be345eb561a58747da602704"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_LPM_ENTER_NI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm_bits_</td><td>)</td>
          <td>&#160;&#160;&#160;__bis_status_register(<a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a> &amp; (lpm_bits_))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enter a low-power mode</p>
<p>This sets the status register bits in accordance to the bits specified in <em>lpm_bits_</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm_bits_</td><td>bits to be set in the status register. The value is masked by <a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a> before being written. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a65">bootstrap/applpm/main.c</a>, <a class="el" href="bootstrap_2button_2main_8c-example.html#a25">bootstrap/button/main.c</a>, <a class="el" href="bootstrap_2lpm_2main_8c-example.html#a9">bootstrap/lpm/main.c</a>, <a class="el" href="rfem_2ccid_2main_8c-example.html#a40">rfem/ccid/main.c</a>, and <a class="el" href="sensors_2hh10d_2main_8c-example.html#a39">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a4111253dbed7f8ac33b659e332616623"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_LPM_EXIT_FROM_ISR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm_bits_</td><td>)</td>
          <td>&#160;&#160;&#160;__bic_status_register_on_exit(<a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a> &amp; (lpm_bits_))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exit low-power mode on return from ISR</p>
<p>This clears the status register bits provided in <em>lpm_bits</em> from the saved status register value stored in the stack by the interrupt invocation, so that when the interrupt returns the change will take effect.</p>
<dl class="section warning"><dt>Warning</dt><dd>This macro is only usable within the top-half of an interrupt service routine, meaning the function that is registered in the MCU interrupt table. If you are using the HAL interrupt capabilities of BSP430, you won't use this macro.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm_bits_</td><td>bits to be cleared in the stored status register. The value is masked by <a class="el" href="core_8h.html#a1054ff5339d5fc04a83cbfd493ccb4fb">BSP430_CORE_LPM_SR_MASK</a> before being written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2b4afc21563d1222ddc2cda30168c052"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_LPM_EXIT_MASK&#160;&#160;&#160;<a class="el" href="msp430_8h.html#a97eaedd508e6f77e34a49433f8e9e2eb">LPM4_bits</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bits cleared in the stored status word to exit from low power mode in an interrupt.</p>
<p>This is either <a class="el" href="msp430_8h.html#a97eaedd508e6f77e34a49433f8e9e2eb">LPM4_bits</a> or (<a class="el" href="msp430_8h.html#a97eaedd508e6f77e34a49433f8e9e2eb">LPM4_bits</a> &amp; ~<a class="el" href="msp430_8h.html#a196a05515c9476be96443ccb3aa6004d">SCG0</a>), depending on <a class="el" href="core_8h.html#a6c655623731b60f2257aedfb35e3cfa1">configBSP430_CORE_DISABLE_FLL</a>.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="core_8h.html#a6c655623731b60f2257aedfb35e3cfa1">configBSP430_CORE_DISABLE_FLL</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac98f22bd2238bfdadf9c7d2a7a8bcc8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_LPM_LPMXp5&#160;&#160;&#160;0x0100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit indicating that LPMx.5 should be entered.</p>
<p>Where an integer value represents a low power mode configuration, this bit may be set along with <a class="el" href="msp430_8h.html#ae8217664a1729103e247c6984d1744cc">LPM3_bits</a> or <a class="el" href="msp430_8h.html#a97eaedd508e6f77e34a49433f8e9e2eb">LPM4_bits</a> to specify that the LPMx.5 mode feature supported by the Power Management Module should also apply.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="core_8h.html#ab3ba0bc9be345eb561a58747da602704">BSP430_CORE_LPM_ENTER_NI()</a> does not pay attention to this bit. Use it and <a class="el" href="pmm_8h.html#af9f6a1ab23247e37c030abdfef888798">BSP430_MODULE_PMM</a> to determine whether it is necessary to invoke <a class="el" href="pmm_8h.html#a77f7471bb2f76ad4c4173a9a4afa3055">BSP430_PMM_ENTER_LPMXp5_NI()</a> prior to invoking <a class="el" href="core_8h.html#ab3ba0bc9be345eb561a58747da602704">BSP430_CORE_LPM_ENTER_NI()</a>. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a50">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a1054ff5339d5fc04a83cbfd493ccb4fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_LPM_SR_MASK&#160;&#160;&#160;(<a class="el" href="msp430_8h.html#a4c235c9d99c61027fc1db9624116a389">SCG1</a> | <a class="el" href="msp430_8h.html#a196a05515c9476be96443ccb3aa6004d">SCG0</a> | <a class="el" href="msp430_8h.html#a402257652efd4f64cdd1cfc95f9ed210">OSCOFF</a> | <a class="el" href="msp430_8h.html#acb24a5cd5fd8e152af2dae98b3883013">CPUOFF</a> | <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask isolating LPM-related bits recorded in status register.</p>
<p>These are <a class="el" href="msp430_8h.html#a4c235c9d99c61027fc1db9624116a389">SCG1</a>, <a class="el" href="msp430_8h.html#a196a05515c9476be96443ccb3aa6004d">SCG0</a>, <a class="el" href="msp430_8h.html#a402257652efd4f64cdd1cfc95f9ed210">OSCOFF</a>, <a class="el" href="msp430_8h.html#acb24a5cd5fd8e152af2dae98b3883013">CPUOFF</a>, and (just in case) <a class="el" href="msp430_8h.html#a1e3cee306f51b98da4e4c97ab118f506">GIE</a>. Other bits are eliminated from any LPM bit value before mutating a status register setting in either <a class="el" href="core_8h.html#ab3ba0bc9be345eb561a58747da602704">BSP430_CORE_LPM_ENTER_NI()</a> or <a class="el" href="core_8h.html#a4111253dbed7f8ac33b659e332616623">BSP430_CORE_LPM_EXIT_FROM_ISR()</a>. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2clocks_2main_8c-example.html#a35">bootstrap/clocks/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a5e9ec46fa426727b23b14cd505e5bbec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_RESTORE_INTERRUPT_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {    \</div>
<div class="line">    __set_interrupt_state(_state);                              \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>A function macro that will enable or disable interrupts as recorded in the provided state parameter. The parameter value should have been created using <a class="el" href="core_8h.html#ae4bfa3ada65bbdf28947828ce7966ec1">BSP430_CORE_SAVE_INTERRUPT_STATE</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_state</td><td>where the interrupt enable/disable state is stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a9">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae4bfa3ada65bbdf28947828ce7966ec1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_SAVE_INTERRUPT_STATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_state</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {    \</div>
<div class="line">    (_state) = __get_interrupt_state();                 \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>A function macro that will record whether interrupts are currently enabled in the state parameter. The parameter should subsequently be passed to <a class="el" href="core_8h.html#a5e9ec46fa426727b23b14cd505e5bbec">BSP430_CORE_RESTORE_INTERRUPT_STATE</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_state</td><td>where the interrupt enable/disable state is stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a7">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae7df9374f27e94580ce596ad98949dcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_WATCHDOG_CLEAR</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;do { } while (0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function macro which should expand to a toolchain-specific statement that resets ("kicks") the watchdog timer.</p>
<p>Be aware that the toolchain may provide an intrinsic with special semantics, which should be understood before using its definition. For example, in MSPGCC the __watchdog_clear() intrinsic references a clear value managed with __set_watchdog_clear_value(). Invoking __watchdog_clear() after manually halting the watchdog will restart it in its last active configuration.</p>
<p>It is safe to use this macro regardless of whether <a class="el" href="core_8h.html#a835e2732faf93f44f6d6f00eb04236dc">configBSP430_CORE_SUPPORT_WATCHDOG</a> is true. When the watchdog is not supported, it evalutes to an empty statement.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="platform_8h.html#a136722b0c2fec7d74f088cf8211aab2c">BSP430_PLATFORM_BOOT_DISABLE_WATCHDOG</a></dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2blink_2main_8c-example.html#a1">bootstrap/blink/main.c</a>, <a class="el" href="bootstrap_2clocks_2main_8c-example.html#a36">bootstrap/clocks/main.c</a>, and <a class="el" href="bootstrap_2console_2main_8c-example.html#a6">bootstrap/console/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a253c0eeb9c1e39b3b5dbb601927d925f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_CORE_WATCHDOG_MAX_DELAY_CYCLES&#160;&#160;&#160;10000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The maximum number of delay cycles that can be executed without obliging BSP430 to execute <a class="el" href="core_8h.html#ae7df9374f27e94580ce596ad98949dcd">BSP430_CORE_WATCHDOG_CLEAR()</a>.</p>
<p>If you know that &lt;<a class="el" href="clock_8h.html" title="Clock-related functions implemented on all MSP430 MCUs.">bsp430/clock.h</a>&gt; is available, you could define this in terms of <a class="el" href="clock_8h.html#a6ffd3f4fab35b64d0e8ff8d3179d69d9">BSP430_CLOCK_NOMINAL_MCLK_HZ</a>. </p>

</div>
</div>
<a class="anchor" id="a15a07b5efea8b66be572787a37455578"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_RTOS_YIELD_FROM_ISR</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;do { } while (0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instruct the RTOS environment to execute a context switch. This should only be invoked from with the function that is the top-half of an interrupt service routine, and is usually invoked within <a class="el" href="periph_8h.html#a00a5b53d4d5c438c9113832887eddafa">BSP430_HAL_ISR_CALLBACK_TAIL_NI</a> when <a class="el" href="periph_8h.html#a91d408b6d97a12b296903e07b095d9c4">BSP430_HAL_ISR_CALLBACK_YIELD</a> has been set.</p>
<p>It is defined to a no-op in environments that do not support context switches.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a6e454bbff10b4097999dc3b5b44f83a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_VERSION&#160;&#160;&#160;20120921</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Version identifier for the BSP430 library</p>
<p>A monotonically non-decreasing integer reflecting the version of the BSP430 library that is being used. The value represents a development freeze date in the form YYYYMMDD as a decimal number. </p>

</div>
</div>
<a class="anchor" id="a6c655623731b60f2257aedfb35e3cfa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_CORE_DISABLE_FLL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro may be defined to a true value to request that <a class="el" href="msp430_8h.html#a196a05515c9476be96443ccb3aa6004d">SCG0</a> be set after <a class="el" href="platform_8h.html#a616515ce5e0f7635ca36a815841d2a21">vBSP430platformInitialize_ni()</a> configures the clocks, preventing the FLL from changing the DCO configuration without application intervention. It may be referenced in other situations, such as leaving low-power mode, to determine whether the bit should remain set.</p>
<p>The UCS peripheral has several errata which result in severe clock instabilities when the FLL is allowed to run unmanaged. These include UCS7 ("DCO drifts when servicing short ISRs when in LPM0 or
exiting active from ISRs for short periods of time" and UCS10 ("Modulation causes shift in DCO frequency"). The latter is documented in <a href="http://www.ti.com/lit/pdf/SLAA489">UCS10 Guidance</a>. The UCS implementation of <a class="el" href="ucs_8h.html#a12d4e6a1d8f43f1ee6af044d952d8441">iBSP430ucsTrimDCOCLKDIV_ni()</a> supports the UCS10 workaround.</p>
<p>Stability in the presence of UCS7 and UCS10 may be further enhanced by setting this option. It is made generic in case there are other cases where <a class="el" href="msp430_8h.html#a196a05515c9476be96443ccb3aa6004d">SCG0</a> should left set throughout application execution.</p>
<dl class="section note"><dt>Note</dt><dd>If the application manipulates the status register directly, the effect of this option may not be preserved.</dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="ab63537e5c8c1fa94b5d3cbdfc53d9220"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_CORE_INCLUDE_BSP430_CONFIG_FILE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>BSP430 depends heavily on configuration specified by preprocessor tokens defined to true or false values. Proper application behavior requires that all object files be built using the same configuration settings.</p>
<p>All BSP430 implementation files include &lt;<a class="el" href="core_8h.html" title="Common header included by all BSP430 leaf headers.">bsp430/core.h</a>&gt;, either directly or through other headers. Defining <a class="el" href="core_8h.html#ab63537e5c8c1fa94b5d3cbdfc53d9220">configBSP430_CORE_INCLUDE_BSP430_CONFIG_FILE</a> to a true value (which is its default) will cause this header to include a file named "bsp430_config.h", which is presumed to be in the compiler's include path. All application configuration may be placed into this file. It is recommended that this file end with the inclusion of &lt;<a class="el" href="bsp430__config_8h.html" title="BSP430 configuration directives for generic platform support.">bsp430/platform/bsp430_config.h</a>&gt; to reduce the amount of generic configuration that must be supplied.</p>
<p>If you provide configuration solely through external means (e.g., through <code>-D</code> arguments to the preprocessor) you can inhibit this inclusion by defining <a class="el" href="core_8h.html#ab63537e5c8c1fa94b5d3cbdfc53d9220">configBSP430_CORE_INCLUDE_BSP430_CONFIG_FILE</a> to 0.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a835e2732faf93f44f6d6f00eb04236dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_CORE_SUPPORT_WATCHDOG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Control use of the watchdog infrastructure by BSP430.</p>
<p>If defined to a true value, the function macros <a class="el" href="core_8h.html#ae7df9374f27e94580ce596ad98949dcd">BSP430_CORE_WATCHDOG_CLEAR()</a> and <a class="el" href="core_8h.html#a327cb5d1a1607c19c9551a18507bbb63">BSP430_CORE_DELAY_CYCLES()</a> will reset the watchdog in accordance with their descriptions. If false, those macros will not manipulate the watchdog register.</p>
<p>When watchdog support is enabled, all BSP430 functions that might execute for more than 30 milliseconds with an MCLK frequency of at least 1 MHz will invoke <a class="el" href="core_8h.html#ae7df9374f27e94580ce596ad98949dcd">BSP430_CORE_WATCHDOG_CLEAR()</a> at a frequency of at least once every 30 milliseconds.</p>
<p>See <a class="el" href="platform_8h.html#a136722b0c2fec7d74f088cf8211aab2c">BSP430_PLATFORM_BOOT_DISABLE_WATCHDOG</a>, which defaults to true if and only if <a class="el" href="core_8h.html#a835e2732faf93f44f6d6f00eb04236dc">configBSP430_CORE_SUPPORT_WATCHDOG</a> is false.</p>
<dl class="section warning"><dt>Warning</dt><dd>The above is described intent and has not been rigorously validated.</dd></dl>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 21 2012 12:37:44 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
