<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BSP430: include/bsp430/utility/uptime.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BSP430
   &#160;<span id="projectnumber">20121013</span>
   </div>
   <div id="projectbrief">Board Support Package for MSP430 microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b88edee3dd3c84f98132ff53401cb3f9.html">bsp430</a></li><li class="navelem"><a class="el" href="dir_3a342b515484da5d2be804b4d00fb40f.html">utility</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">uptime.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Support for maintaining a system uptime counter.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="timer_8h_source.html">bsp430/periph/timer.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="clock_8h_source.html">bsp430/clock.h</a>&gt;</code><br/>
</div>
<p><a href="uptime_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9d11620036fe41e9f4fca30676e4d821"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a9d11620036fe41e9f4fca30676e4d821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a8d2483ccc30c355cae2f3be6ad547"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#aa3a8d2483ccc30c355cae2f3be6ad547">BSP430_UPTIME</a>&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td></tr>
<tr class="separator:aa3a8d2483ccc30c355cae2f3be6ad547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fb92deab925aa3557cbbfb6d37fbaa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a>&#160;&#160;&#160;(<a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a> - 0)</td></tr>
<tr class="separator:a05fb92deab925aa3557cbbfb6d37fbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5896bdd2a487e968e6c1aaacace58087"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a5896bdd2a487e968e6c1aaacace58087">BSP430_UPTIME_USE_PLATFORM_RESOURCE</a>&#160;&#160;&#160;include &lt;bsp430/platform/bsp430_config.h&gt;</td></tr>
<tr class="separator:a5896bdd2a487e968e6c1aaacace58087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4b3ca225b4057be8a5c6f05de6eb7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a6d4b3ca225b4057be8a5c6f05de6eb7e">BSP430_UPTIME_TIMER_PERIPH_HANDLE</a>&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td></tr>
<tr class="separator:a6d4b3ca225b4057be8a5c6f05de6eb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0075826a6164ffd4b9272ab9c5d748"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a6f0075826a6164ffd4b9272ab9c5d748">configBSP430_UPTIME_USE_DEFAULT_CC0_ISR</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6f0075826a6164ffd4b9272ab9c5d748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54587d84857a8574c58b4dc945c82e6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a54587d84857a8574c58b4dc945c82e6e">BSP430_UPTIME_SSEL</a>&#160;&#160;&#160;TASSEL_1 /* == TASSEL__ACLK */</td></tr>
<tr class="separator:a54587d84857a8574c58b4dc945c82e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58cb708c91abec9973d8a4ae912cea8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ae58cb708c91abec9973d8a4ae912cea8">BSP430_UPTIME_DIVIDING_SHIFT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ae58cb708c91abec9973d8a4ae912cea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a179923d3d8e44110187bdfe8ed50a8d1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="timer_8h.html#a05821bb5b9c3c49fbc7ced58b7a4eaa8">hBSP430halTIMER</a> <br class="typebreak"/>
<a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a179923d3d8e44110187bdfe8ed50a8d1">xBSP430uptimeTimer</a> (void)</td></tr>
<tr class="separator:a179923d3d8e44110187bdfe8ed50a8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee524dac4c6d777b5493f1c16bc1c2a"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#abee524dac4c6d777b5493f1c16bc1c2a">ulBSP430uptimeConversionFrequency_Hz_ni</a> (void)</td></tr>
<tr class="separator:abee524dac4c6d777b5493f1c16bc1c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3bacc5bf6eeb96037f3470fa3ac9c5c"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#aa3bacc5bf6eeb96037f3470fa3ac9c5c">ulBSP430uptimeSetConversionFrequency_ni</a> (unsigned long frequency_Hz)</td></tr>
<tr class="separator:aa3bacc5bf6eeb96037f3470fa3ac9c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e58aab92925d2ee1d3fd8f06031c9b"><td class="memItemLeft" align="right" valign="top">static unsigned long <br class="typebreak"/>
<a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#ae3e58aab92925d2ee1d3fd8f06031c9b">ulBSP430uptime_ni</a> (void)</td></tr>
<tr class="separator:ae3e58aab92925d2ee1d3fd8f06031c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad55bc14d03e0bba220051821ea275d6"><td class="memItemLeft" align="right" valign="top">static unsigned long <br class="typebreak"/>
<a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#aad55bc14d03e0bba220051821ea275d6">ulBSP430uptime</a> (void)</td></tr>
<tr class="separator:aad55bc14d03e0bba220051821ea275d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ac7fe1f205bed2b6e8e41faa8a43bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af2ac7fe1f205bed2b6e8e41faa8a43bc">vBSP430uptimeStart_ni</a> (void)</td></tr>
<tr class="separator:af2ac7fe1f205bed2b6e8e41faa8a43bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fc249f2c4699ab77b408e3488ca4b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a62fc249f2c4699ab77b408e3488ca4b5">vBSP430uptimeSuspend_ni</a> (void)</td></tr>
<tr class="separator:a62fc249f2c4699ab77b408e3488ca4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e943e205552a5c9aa1532ca1347b0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#af8e943e205552a5c9aa1532ca1347b0b">vBSP430uptimeResume_ni</a> (void)</td></tr>
<tr class="separator:af8e943e205552a5c9aa1532ca1347b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790fc3c41c4a8e93ec7caca7825733c1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uptime_8h.html#a790fc3c41c4a8e93ec7caca7825733c1">xBSP430uptimeAsText_ni</a> (unsigned long duration_utt)</td></tr>
<tr class="separator:a790fc3c41c4a8e93ec7caca7825733c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Support for maintaining a system uptime counter. </p>
<p>This module provides routines to initialize and query a long-term clock, using a platform-selected timer sourced by an undivided ACLK.</p>
<p><a class="el" href="uptime_8h.html#af2ac7fe1f205bed2b6e8e41faa8a43bc">vBSP430uptimeStart_ni()</a> must be invoked on hardware initialization after configuring the system clocks. This is done for you in <a class="el" href="platform_8h.html#a616515ce5e0f7635ca36a815841d2a21">vBSP430platformInitialize_ni()</a> if <a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a> is true.</p>
<p>See <a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a> if you want to control the timer that will be used.</p>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/bsp430">http://github.com/pabigot/bsp430</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa3a8d2483ccc30c355cae2f3be6ad547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined to a true value if <a class="el" href="uptime_8h.html#a6d4b3ca225b4057be8a5c6f05de6eb7e">BSP430_UPTIME_TIMER_PERIPH_HANDLE</a> has been provided, making the uptime infrastructure available.</p>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a> </dd></dl>
<dl class="section user"><dt>Platform-Dependent Default:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities.">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>

</div>
</div>
<a class="anchor" id="ae58cb708c91abec9973d8a4ae912cea8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_DIVIDING_SHIFT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shift value dividing <a class="el" href="uptime_8h.html#a54587d84857a8574c58b4dc945c82e6e">BSP430_UPTIME_SSEL</a> for the uptime clock.</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a54587d84857a8574c58b4dc945c82e6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_SSEL&#160;&#160;&#160;TASSEL_1 /* == TASSEL__ACLK */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Source selector for uptime clock. This should be bits suitable for storage into the TASSEL field of a timer control register. (Note that TASSEL and TBSSEL support the same values).</p>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a6d4b3ca225b4057be8a5c6f05de6eb7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_TIMER_PERIPH_HANDLE&#160;&#160;&#160;include &lt;bsp430/platform.h&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to the peripheral identifier for a timer that can be used to maintain a continuous system clock sourced from ACLK.</p>
<dl class="section warning"><dt>Warning</dt><dd>If you set this, you must also set <a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a> to be a false value. You must also ensure the corresponding peripheral HAL interface (e.g. <a class="el" href="timer_8h.html#a32887ebd177ce7a4899b2e51cda922a2">configBSP430_HAL_TA1</a>) and HAL interrupt that will count overflows (e.g. <a class="el" href="timer_8h.html#a0028c9a043565a31a90d14f2aa90fc51">configBSP430_HAL_TA1_ISR</a>) are enabled.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions.</dd></dl>
<dl class="section user"><dt>Platform-Dependent Default:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities.">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a28">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a5896bdd2a487e968e6c1aaacace58087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSP430_UPTIME_USE_PLATFORM_RESOURCE&#160;&#160;&#160;include &lt;bsp430/platform/bsp430_config.h&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a> is enabled but the platform-specific <code>bsp430_config.h</code> selects a different peripheral (e.g., <a class="el" href="timer_8h.html#aa811147838571017c01dd6f987035f5f">BSP430_PERIPH_TA1</a>) than the generic <code>bsp430_config.h</code>, this flag is defined to a true value to prevent the generic resource from being allocated as well. You only need to make use of this this if you're providing a platform that doesn't use <a class="el" href="timer_8h.html#a2f1f35990892a20c7ace8c88a1dce998">BSP430_PERIPH_TA0</a> for the uptime clock.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a> </dd></dl>
<dl class="section user"><dt>Affects:</dt><dd><a class="el" href="uptime_8h.html#a6d4b3ca225b4057be8a5c6f05de6eb7e">BSP430_UPTIME_TIMER_PERIPH_HANDLE</a> </dd></dl>
<dl class="section user"><dt>Platform-Dependent Default:</dt><dd>Undefined here; include &lt;<a class="el" href="platform_8h.html" title="Entrypoint for platform-specific capabilities.">bsp430/platform.h</a>&gt; to obtain the correct value of this macro. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d11620036fe41e9f4fca30676e4d821"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_UPTIME&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define to a true value to enable the uptime infrastructure to maintain a continuous system clock. A timer that will support this must be identified; see <a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a>.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Affects:</dt><dd><a class="el" href="uptime_8h.html#aa3a8d2483ccc30c355cae2f3be6ad547">BSP430_UPTIME</a> </dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<a class="anchor" id="a6f0075826a6164ffd4b9272ab9c5d748"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_UPTIME_USE_DEFAULT_CC0_ISR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The dedicated CC0 ISR associated with the uptime timer is an ideal place to support timeslicing for an RTOS. Normally, when the HAL timer infrastructure used for uptime management is enabled, the CC0 interrupt HAL ISR is left unmanaged by BSP430 (see <a class="el" href="timer_8h.html#a7e7ba4e26de99442172db01739fadfd4">configBSP430_HAL_TA1_CC0_ISR</a>).</p>
<p>Set this flag to 1 if you want BSP430 to provide an implementation for the CC0 interrupt for the HAL timer that underlies the implementation, thereby allowing BSP430 to dispatch CC0 events to callbacks registered in <a class="el" href="structsBSP430halTIMER.html">sBSP430halTIMER</a>.</p>
<p>Set this flag to 0 if you intend to implement your own CC0 ISR.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>No Default:</dt><dd>A value must be provided explicitly if the feature is to be used.</dd></dl>
<dl class="section user"><dt>Dependency:</dt><dd><a class="el" href="uptime_8h.html#a05fb92deab925aa3557cbbfb6d37fbaa">configBSP430_UPTIME_USE_DEFAULT_RESOURCE</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a05fb92deab925aa3557cbbfb6d37fbaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define configBSP430_UPTIME_USE_DEFAULT_RESOURCE&#160;&#160;&#160;(<a class="el" href="uptime_8h.html#a9d11620036fe41e9f4fca30676e4d821">configBSP430_UPTIME</a> - 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The "best" timer to use for uptime management is probably <a class="el" href="timer_8h.html#a2f1f35990892a20c7ace8c88a1dce998">BSP430_PERIPH_TA0</a>, but if that time is the only one that can use ACLK as a source another might be preferable, so that <a class="el" href="group__grp__timer__ccaclk.html#gafaa65b8c2e6832c51e73ab8c929af856">BSP430_TIMER_CCACLK</a> can be used without conflicting with <a class="el" href="uptime_8h.html#aa3a8d2483ccc30c355cae2f3be6ad547">BSP430_UPTIME</a>. Where possible, selections of compatible timers are made in the platform-specific headers. See <a class="el" href="uptime_8h.html#a5896bdd2a487e968e6c1aaacace58087">BSP430_UPTIME_USE_PLATFORM_RESOURCE</a>.</p>
<p>If you want control over the timer used for uptime monitoring, set this to false.</p>
<dl class="section user"><dt>C Preprocessor Only:</dt><dd>This macro may have a value that permits its use only within C preprocessor conditional directives.</dd></dl>
<dl class="section user"><dt>Defaulted:</dt><dd>The value here is superseded by previously encountered definitions. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aad55bc14d03e0bba220051821ea275d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> ulBSP430uptime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the system uptime in clock ticks. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="utility_2alarm_2main_8c-example.html#a35">utility/alarm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ae3e58aab92925d2ee1d3fd8f06031c9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> ulBSP430uptime_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return system uptime in clock ticks with disabled interrupts. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a55">bootstrap/applpm/main.c</a>, <a class="el" href="rfem_2cc3000_2main_8c-example.html#a2">rfem/cc3000/main.c</a>, <a class="el" href="sensors_2ds18b20_2main_8c-example.html#a7">sensors/ds18b20/main.c</a>, <a class="el" href="sensors_2hh10d_2main_8c-example.html#a41">sensors/hh10d/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a15">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="abee524dac4c6d777b5493f1c16bc1c2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ulBSP430uptimeConversionFrequency_Hz_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the uptime clock conversion frequency.</p>
<p>This is the number of uptime ticks in a standard second, and is used when translating between tick measurements and second-based durations. The default value is the nominal frequency of the timer underlying the uptime clock, but this may be overridden by <a class="el" href="uptime_8h.html#aa3bacc5bf6eeb96037f3470fa3ac9c5c">ulBSP430uptimeSetConversionFrequency_ni()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>The conversion frequency of the uptime clock, in Hz. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2ds18b20_2main_8c-example.html#a6">sensors/ds18b20/main.c</a>, and <a class="el" href="sensors_2hh10d_2main_8c-example.html#a22">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="aa3bacc5bf6eeb96037f3470fa3ac9c5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ulBSP430uptimeSetConversionFrequency_ni </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>frequency_Hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the uptime frequency that will be used for tick/time conversion.</p>
<p>In cases where the uptime clock derives from #VLOCLK, the nominal frequency used by default may be off by as much as 10% from the actual frequency. This function can be used when a more accurate estimate of actual frequency is available to decrease the error in converted times.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency_Hz</td><td>the frequency to be used when converting durations in ticks to durations in seconds or related units. If a value of zero is provided, the current nominal frequency will be used in subsequent conversions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the conversion frequency, which may be 0 if no conversions had occured. </dd></dl>

</div>
</div>
<a class="anchor" id="af8e943e205552a5c9aa1532ca1347b0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeResume_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resume the system uptime clock</p>
<p>The clocks are re-enabled to continue counting from their last recorded value. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a67">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="af2ac7fe1f205bed2b6e8e41faa8a43bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeStart_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the system uptime clock.</p>
<p>The timer associated with the uptime clock is reset to zero and begins counting up. </p>

</div>
</div>
<a class="anchor" id="a62fc249f2c4699ab77b408e3488ca4b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vBSP430uptimeSuspend_ni </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Suspend the system uptime clock.</p>
<p>Suspension means that the clocks are halted and interrupts from them inhibited. Counter values are not modified. <a class="el" href="uptime_8h.html#af8e943e205552a5c9aa1532ca1347b0b">vBSP430uptimeResume_ni</a> should be invoked to release the clocks to continue counting.</p>
<p>The system clock may be suspended prior to entering certain low power modes. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bootstrap_2applpm_2main_8c-example.html#a59">bootstrap/applpm/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a790fc3c41c4a8e93ec7caca7825733c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* xBSP430uptimeAsText_ni </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>duration_utt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert an uptime count to text HH:MM:SS.mmm format.</p>
<p>At least the MM:SS.mmm portion is present, with minutes space-padded on the left. If the duration exceeds 59:59.999, then space-padded hours will be included as well, and minutes will be zero-padded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration_utt</td><td>a duration in uptime ticks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to formatted time. The pointer is to static storage. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rfem_2cc3000_2main_8c-example.html#a1">rfem/cc3000/main.c</a>, <a class="el" href="utility_2alarm_2main_8c-example.html#a34">utility/alarm/main.c</a>, and <a class="el" href="utility_2cli_2main_8c-example.html#a14">utility/cli/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a179923d3d8e44110187bdfe8ed50a8d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="timer_8h.html#a05821bb5b9c3c49fbc7ced58b7a4eaa8">hBSP430halTIMER</a> <a class="el" href="core_8h.html#acc9bdec15b3ab4175315a6e0f6b6d142">BSP430_CORE_INLINE</a> xBSP430uptimeTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get access to the timer controlling the uptime infrastructure.</p>
<p>You might need this if you want to hook into its callbacks.</p>
<p>Don't hook into the overflow callback, please. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sensors_2hh10d_2main_8c-example.html#a2">sensors/hh10d/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 13 2012 17:41:30 for BSP430 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
